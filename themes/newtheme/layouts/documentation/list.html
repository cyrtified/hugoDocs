{{ define "main" }}
  {{ $pages := slice }}
  {{ if .Parent.IsHome }}
    {{/* /documentation: Show all pages in the fundementals category. */}}
    {{ $pages = (.Site.Taxonomies.categories.fundamentals).Pages | lang.Merge (.Sites.First.Taxonomies.categories.fundamentals).Pages }}
  {{ end }}
  
  <h1 class="text-3xl font-semibold">
    {{ .Title }}
  </h1>
  <div class="mt-8 text-lg">
    {{ .Content }}
  </div>
  {{ if $pages }}
    {{/* TODO1 remove these config classes. */}}
    {{ $interior_classes := site.Params.flex_box_interior_classes }}
    <section class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
      {{ range $pages}}
        {{ partial "boxes-section-summaries.html" (dict "context" . "classes" $interior_classes "fullcontent" true) }}
      {{ end }}
    </section>
    
  {{ end }}
{{ end }}
